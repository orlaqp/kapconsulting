
<div class="jumbotron">

  <%= form_tag(@last_clock_in.blank? ? new_time_clock_path : time_clock_path(@last_clock_in), :method => @last_clock_in.blank? ? :get : :put) do %>
    
    <div class="well">

      <% if @last_clock_in.blank? %>
        <%= submit_tag 'CLOCK IN', data: { disable_with: 'Clocking in ...' }, :class => "btn btn-xlarge btn-success" %>
        <div class="well pull-right text-muted">
          Clock in time not available
        </div>
      <% else %>
        <%= submit_tag 'CLOCK OUT', data: { disable_with: 'Clocking out ...' }, :class => "btn btn-xlarge btn-danger" %>
        
        <div class="well pull-right text-success">
          Last clock in was: <%= @last_clock_in.start_time.to_formatted_s(:short) %>
        </div>
      <% end %>
    </div>

    <% if !@last_clock_in.blank? %>
      <%= text_area :time_clock, :comments, :rows => 4, :class => "form-control" %>
    <% end %>

  <% end %>


</div>


<div class="table-responsive">
  <table class="table table-striped table-hover">
   
    <tbody>
      <%= content_tag_for(:tr, @time_clocks) do |time_clock| %>
            <td><%= format_date_time(time_clock.start_time, "%A, %b %d ") %></td>
            <td><%= time_clock.comments %></td>            
            <td class="text-right text-muted">
              <strong><%= format_date_time(time_clock.start_time, "%I:%M:%S %p") %></strong>
            </td>
            <td class="text-right text-muted">
              <strong><%= format_date_time(time_clock.end_time, "%I:%M:%S %p") %></strong>
            </td>
            <td class="text-success text-right">
              <strong><%= humanize_time_distance(time_clock.start_time, time_clock.end_time) %></strong>
            </td>            
      <% end %>
    </tbody>
  </table>
</div>
